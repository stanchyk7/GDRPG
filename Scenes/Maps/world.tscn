[gd_scene load_steps=12 format=4 uid="uid://desp8rgxud3dy"]

[ext_resource type="Script" path="res://Scenes/Pawns/pawn_manager.gd" id="1_1b3yd"]
[ext_resource type="PackedScene" uid="uid://ckrd5k14iae5r" path="res://Scenes/Pawns/Variants/Player/player.tscn" id="1_ep713"]
[ext_resource type="TileSet" uid="uid://otamr5lhwu4o" path="res://Graphics/tileset.tres" id="1_us7go"]
[ext_resource type="PackedScene" uid="uid://ckjb27vmdsyhq" path="res://Scenes/Pawns/Variants/Event/Walker/walker.tscn" id="3_qt5fr"]
[ext_resource type="Texture2D" uid="uid://ct6k0feqggovn" path="res://Graphics/tile.png" id="4_m68ou"]
[ext_resource type="Script" path="res://addons/game_state_saver/game_state_helper.gd" id="5_jjle6"]
[ext_resource type="Script" path="res://Scenes/Pawns/Variants/Event/Wanderer/wanderer.gd" id="6_uoqsa"]
[ext_resource type="Resource" uid="uid://cbsq58thth6ut" path="res://Dialogue/test.dialogue" id="7_153uk"]
[ext_resource type="Texture2D" uid="uid://ejkjat2ktqfk" path="res://icon.svg" id="7_k182i"]
[ext_resource type="TileSet" uid="uid://c5yrnubk0j57d" path="res://Graphics/Internal/internal.tres" id="10_jb4cg"]
[ext_resource type="Script" path="res://Scenes/Maps/camera_2d.gd" id="11_6hr6o"]

[node name="World" type="Node2D"]

[node name="PawnManager" type="Node2D" parent="." node_paths=PackedStringArray("coll_manager", "pawn_coll_manager")]
z_index = 1
y_sort_enabled = true
script = ExtResource("1_1b3yd")
coll_manager = NodePath("../CollisionManager")
pawn_coll_manager = NodePath("../PawnCollisionManager")

[node name="Player" parent="PawnManager" instance=ExtResource("1_ep713")]
position = Vector2(136, 120)

[node name="Event" parent="PawnManager" instance=ExtResource("3_qt5fr")]
position = Vector2(88, 104)
move_route = Array[Vector2i]([Vector2i(1, 0), Vector2i(0, 1), Vector2i(-1, 0), Vector2i(0, -1)])
collidable = true
speed = 1.0

[node name="Sprite2D" type="Sprite2D" parent="PawnManager/Event"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_m68ou")

[node name="GameStateHelper" type="Node" parent="PawnManager/Event"]
script = ExtResource("5_jjle6")
save_properties = Array[String](["position", "coll_pos", "cur_direction", "current_move"])

[node name="Event2" parent="PawnManager" instance=ExtResource("3_qt5fr")]
position = Vector2(152, 136)
move_route = Array[Vector2i]([Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(0, -1), Vector2i(0, -1), Vector2i(0, -1), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(0, 1), Vector2i(0, 1), Vector2i(0, 1), Vector2i(-1, 0)])
collidable = true

[node name="Sprite2D" type="Sprite2D" parent="PawnManager/Event2"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_m68ou")

[node name="GameStateHelper" type="Node" parent="PawnManager/Event2"]
script = ExtResource("5_jjle6")
save_properties = Array[String](["position", "coll_pos", "cur_direction", "current_move"])

[node name="Event3" parent="PawnManager" instance=ExtResource("3_qt5fr")]
position = Vector2(168, 136)
move_route = Array[Vector2i]([Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(0, -1), Vector2i(0, -1), Vector2i(0, -1), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(0, 1), Vector2i(0, 1), Vector2i(0, 1)])
collidable = true

[node name="Sprite2D" type="Sprite2D" parent="PawnManager/Event3"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_m68ou")

[node name="GameStateHelper" type="Node" parent="PawnManager/Event3"]
script = ExtResource("5_jjle6")
save_properties = Array[String](["position", "coll_pos", "cur_direction", "current_move"])

[node name="Event4" parent="PawnManager" instance=ExtResource("3_qt5fr")]
position = Vector2(232, 136)
script = ExtResource("6_uoqsa")
dialogue = ExtResource("7_153uk")
collidable = true
speed = 1.0

[node name="Sprite2D" type="Sprite2D" parent="PawnManager/Event4"]
modulate = Color(1, 0, 0, 1)
scale = Vector2(0.125, 0.125)
texture = ExtResource("7_k182i")

[node name="Tilemaps" type="Node2D" parent="."]

[node name="TileMapLayer" type="TileMapLayer" parent="Tilemaps"]
tile_map_data = PackedByteArray("AAAAAAAAAQAGAAQAAAAAAAEAAQAGAAQAAAAAAAIAAQAGAAQAAAABAAAAAQAGAAQAAAABAAEAAQAGAAQAAAABAAIAAQAGAAQAAAACAAAAAQAGAAQAAAACAAEAAQAGAAQAAAACAAIAAQAGAAQAAAAAAAMAAQAGAAQAAAAAAAQAAQAGAAQAAAAAAAUAAQAGAAQAAAABAAMAAQAGAAQAAAABAAQAAQAGAAQAAAABAAUAAQAGAAQAAAACAAMAAQAGAAQAAAACAAQAAQAGAAQAAAACAAUAAQAGAAQAAAAAAAYAAQAGAAQAAAAAAAcAAQAGAAQAAAAAAAgAAQAGAAQAAAABAAYAAQAGAAQAAAABAAcAAQAGAAQAAAABAAgAAQAGAAQAAAACAAYAAQAGAAQAAAACAAcAAQAGAAQAAAACAAgAAQAGAAQAAAAAAAkAAQAGAAQAAAAAAAoAAQAGAAQAAAAAAAsAAQAGAAQAAAABAAkAAQAGAAQAAAABAAoAAQAGAAQAAAABAAsAAQAGAAQAAAACAAkAAQAGAAQAAAACAAoAAQAGAAQAAAACAAsAAQAGAAQAAAAAAAwAAQAGAAQAAAAAAA0AAQAGAAQAAAAAAA4AAQAGAAQAAAABAAwAAQAGAAQAAAABAA0AAQAGAAQAAAABAA4AAQAGAAQAAAACAAwAAQAGAAQAAAACAA0AAQAGAAQAAAACAA4AAQAGAAQAAAADAAAAAQAGAAQAAAADAAEAAQAGAAQAAAADAAIAAQAGAAQAAAAEAAAAAQAGAAQAAAAEAAEAAQAGAAQAAAAEAAIAAQAGAAQAAAAFAAAAAQAGAAQAAAAFAAEAAQAGAAQAAAAFAAIAAQAGAAQAAAADAAMAAQAGAAQAAAADAAQAAQAGAAQAAAADAAUAAQAGAAQAAAAEAAMAAQAGAAQAAAAEAAQAAQAGAAQAAAAEAAUAAQAGAAQAAAAFAAMAAQAGAAQAAAAFAAQAAQAGAAQAAAAFAAUAAQAGAAQAAAADAAYAAQAGAAQAAAADAAcAAQAGAAQAAAAEAAYAAQAGAAQAAAAFAAYAAQAGAAQAAAAFAAcAAQAGAAQAAAAFAAgAAQAGAAQAAAADAAoAAQAGAAQAAAAEAAkAAQAGAAQAAAAEAAoAAQAGAAQAAAAEAAsAAQAGAAQAAAAFAAkAAQAGAAQAAAAFAAoAAQAGAAQAAAAFAAsAAQAGAAQAAAADAAwAAQAGAAQAAAADAA0AAQAGAAQAAAADAA4AAQAGAAQAAAAEAAwAAQAGAAQAAAAEAA0AAQAGAAQAAAAEAA4AAQAGAAQAAAAFAAwAAQAGAAQAAAAFAA0AAQAGAAQAAAAFAA4AAQAGAAQAAAAGAAAAAQAGAAQAAAAGAAEAAQAGAAQAAAAGAAIAAQAGAAQAAAAHAAAAAQAGAAQAAAAHAAEAAQAGAAQAAAAHAAIAAQAGAAQAAAAIAAAAAQAGAAQAAAAIAAEAAQAGAAQAAAAIAAIAAQAGAAQAAAAGAAMAAQAGAAQAAAAGAAQAAQAGAAQAAAAGAAUAAQAGAAQAAAAHAAMAAQAGAAQAAAAHAAQAAQAGAAQAAAAHAAUAAQAGAAQAAAAIAAMAAQAGAAQAAAAIAAQAAQAGAAQAAAAIAAUAAQAGAAQAAAAGAAYAAQAGAAQAAAAGAAcAAQAGAAQAAAAGAAgAAQAGAAQAAAAHAAYAAQAGAAQAAAAHAAcAAQAGAAQAAAAHAAgAAQAGAAQAAAAIAAYAAQAGAAQAAAAIAAcAAQAGAAQAAAAIAAgAAQAGAAQAAAAGAAkAAQAGAAQAAAAGAAoAAQAGAAQAAAAGAAsAAQAGAAQAAAAHAAkAAQAGAAQAAAAHAAoAAQAGAAQAAAAHAAsAAQAGAAQAAAAIAAkAAQAGAAQAAAAIAAoAAQAGAAQAAAAIAAsAAQAGAAQAAAAGAAwAAQAGAAQAAAAGAA0AAQAGAAQAAAAGAA4AAQAGAAQAAAAHAAwAAQAGAAQAAAAHAA0AAQAGAAQAAAAHAA4AAQAGAAQAAAAIAAwAAQAGAAQAAAAIAA0AAQAGAAQAAAAIAA4AAQAGAAQAAAAJAAAAAQAGAAQAAAAJAAEAAQAGAAQAAAAJAAIAAQAGAAQAAAAKAAAAAQAGAAQAAAAKAAEAAQAGAAQAAAAKAAIAAQAGAAQAAAALAAAAAQAGAAQAAAALAAEAAQAGAAQAAAALAAIAAQAGAAQAAAAJAAMAAQAGAAQAAAAJAAQAAQAGAAQAAAAJAAUAAQAGAAQAAAAKAAMAAQAGAAQAAAAKAAQAAQAGAAQAAAAKAAUAAQAGAAQAAAALAAMAAQAGAAQAAAALAAQAAQAGAAQAAAALAAUAAQAGAAQAAAAJAAYAAQAGAAQAAAAJAAcAAQAGAAQAAAAJAAgAAQAGAAQAAAAKAAYAAQAGAAQAAAAKAAcAAQAGAAQAAAAKAAgAAQAGAAQAAAALAAYAAQAGAAQAAAALAAcAAQAGAAQAAAALAAgAAQAGAAQAAAAJAAkAAQAGAAQAAAAJAAoAAQAGAAQAAAAJAAsAAQAGAAQAAAAKAAkAAQAGAAQAAAAKAAoAAQAGAAQAAAAKAAsAAQAGAAQAAAALAAkAAQAGAAQAAAALAAoAAQAGAAQAAAALAAsAAQAGAAQAAAAJAAwAAQAGAAQAAAAJAA0AAQAGAAQAAAAJAA4AAQAGAAQAAAAKAAwAAQAGAAQAAAAKAA0AAQAGAAQAAAAKAA4AAQAGAAQAAAALAAwAAQAGAAQAAAALAA0AAQAGAAQAAAALAA4AAQAGAAQAAAAMAAAAAQAGAAQAAAAMAAEAAQAGAAQAAAAMAAIAAQAGAAQAAAANAAAAAQAGAAQAAAANAAEAAQAGAAQAAAANAAIAAQAGAAQAAAAOAAAAAQAGAAQAAAAOAAEAAQAGAAQAAAAOAAIAAQAGAAQAAAAMAAMAAQAGAAQAAAAMAAQAAQAGAAQAAAAMAAUAAQAGAAQAAAANAAMAAQAGAAQAAAANAAQAAQAGAAQAAAANAAUAAQAGAAQAAAAOAAMAAQAGAAQAAAAOAAQAAQAGAAQAAAAOAAUAAQAGAAQAAAAMAAYAAQAGAAQAAAAMAAcAAQAGAAQAAAAMAAgAAQAGAAQAAAANAAYAAQAGAAQAAAANAAcAAQAGAAQAAAANAAgAAQAGAAQAAAAOAAYAAQAGAAQAAAAOAAcAAQAGAAQAAAAOAAgAAQAGAAQAAAAMAAkAAQAGAAQAAAAMAAoAAQAGAAQAAAAMAAsAAQAGAAQAAAANAAkAAQAGAAQAAAANAAoAAQAGAAQAAAANAAsAAQAGAAQAAAAOAAkAAQAGAAQAAAAOAAoAAQAGAAQAAAAOAAsAAQAGAAQAAAAMAAwAAQAGAAQAAAAMAA0AAQAGAAQAAAAMAA4AAQAGAAQAAAANAAwAAQAGAAQAAAANAA0AAQAGAAQAAAANAA4AAQAGAAQAAAAOAAwAAQAGAAQAAAAOAA0AAQAGAAQAAAAOAA4AAQAGAAQAAAAPAAAAAQAGAAQAAAAPAAEAAQAGAAQAAAAPAAIAAQAGAAQAAAAQAAAAAQAGAAQAAAAQAAEAAQAGAAQAAAAQAAIAAQAGAAQAAAARAAAAAQAGAAQAAAARAAEAAQAGAAQAAAARAAIAAQAGAAQAAAAPAAMAAQAGAAQAAAAPAAQAAQAGAAQAAAAPAAUAAQAGAAQAAAAQAAMAAQAGAAQAAAAQAAQAAQAGAAQAAAAQAAUAAQAGAAQAAAARAAMAAQAGAAQAAAARAAQAAQAGAAQAAAARAAUAAQAGAAQAAAAPAAYAAQAGAAQAAAAPAAcAAQAGAAQAAAAPAAgAAQAGAAQAAAAQAAYAAQAGAAQAAAAQAAcAAQAGAAQAAAAQAAgAAQAGAAQAAAARAAYAAQAGAAQAAAARAAcAAQAGAAQAAAARAAgAAQAGAAQAAAAPAAkAAQAGAAQAAAAPAAoAAQAGAAQAAAAPAAsAAQAGAAQAAAAQAAkAAQAGAAQAAAAQAAoAAQAGAAQAAAAQAAsAAQAGAAQAAAARAAkAAQAGAAQAAAARAAoAAQAGAAQAAAARAAsAAQAGAAQAAAAPAAwAAQAGAAQAAAAPAA0AAQAGAAQAAAAPAA4AAQAGAAQAAAAQAAwAAQAGAAQAAAAQAA0AAQAGAAQAAAAQAA4AAQAGAAQAAAARAAwAAQAGAAQAAAARAA0AAQAGAAQAAAARAA4AAQAGAAQAAAASAAAAAQAGAAQAAAASAAEAAQAGAAQAAAASAAIAAQAGAAQAAAATAAAAAQAGAAQAAAATAAEAAQAGAAQAAAATAAIAAQAGAAQAAAASAAMAAQAGAAQAAAASAAQAAQAGAAQAAAASAAUAAQAGAAQAAAATAAMAAQAGAAQAAAATAAQAAQAGAAQAAAATAAUAAQAGAAQAAAASAAYAAQAGAAQAAAASAAcAAQAGAAQAAAASAAgAAQAGAAQAAAATAAYAAQAGAAQAAAATAAcAAQAGAAQAAAATAAgAAQAGAAQAAAASAAkAAQAGAAQAAAASAAoAAQAGAAQAAAASAAsAAQAGAAQAAAATAAkAAQAGAAQAAAATAAoAAQAGAAQAAAATAAsAAQAGAAQAAAASAAwAAQAGAAQAAAASAA0AAQAGAAQAAAASAA4AAQAGAAQAAAATAAwAAQAGAAQAAAATAA0AAQAGAAQAAAATAA4AAQAGAAQAAAADAAsAAQAGAAQAAAADAAkAAQAGAAQAAAADAAgAAQAGAAQAAAAEAAgAAQAGAAQAAAAEAAcAAQAGAAQAAAA=")
tile_set = ExtResource("1_us7go")
collision_enabled = false
navigation_enabled = false

[node name="TileMapLayer2" type="TileMapLayer" parent="Tilemaps"]
tile_map_data = PackedByteArray("AAAGAAQAAQAVAAkAAAAFAAQAAQAVAAkAAAAEAAQAAQAVAAkAAAADAAQAAQAVAAkAAAADAAUAAQAVAAkAAAADAAYAAQAVAAkAAAADAAcAAQAVAAkAAAALAAUAAQAVAAkAAAALAAYAAQAVAAkAAAALAAcAAQAVAAkAAAALAAgAAQAVAAkAAAALAAkAAQAVAAkAAAAKAAkAAQAVAAkAAAAJAAkAAQAVAAkAAAAIAAkAAQAVAAkAAAAHAAkAAQAVAAkAAAA=")
tile_set = ExtResource("1_us7go")
collision_enabled = false
navigation_enabled = false

[node name="TileMapLayer3" type="TileMapLayer" parent="Tilemaps"]
z_index = 1
tile_map_data = PackedByteArray("AAADAAQAAQAVAAgAAAADAAUAAQAVAAgAAAADAAYAAQAVAAgAAAALAAUAAQAVAAgAAAALAAYAAQAVAAgAAAALAAcAAQAVAAgAAAALAAgAAQAVAAgAAAADAAMAAQAVAAgAAAAEAAMAAQAVAAgAAAAFAAMAAQAVAAgAAAAGAAMAAQAVAAgAAAAHAAgAAQAVAAgAAAAIAAgAAQAVAAgAAAAJAAgAAQAVAAgAAAAKAAgAAQAVAAgAAAALAAQAAQAVAAgAAAA=")
tile_set = ExtResource("1_us7go")
collision_enabled = false
navigation_enabled = false

[node name="CollisionManager" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD/////AAAAAAAAAAAAAP//AAAAAAAAAAABAP//AAAAAAAAAAACAP//AAAAAAAAAAADAP//AAAAAAAAAAAEAP//AAAAAAAAAAAFAP//AAAAAAAAAAAGAP//AAAAAAAAAAAHAP//AAAAAAAAAAAIAP//AAAAAAAAAAAJAP//AAAAAAAAAAAKAP//AAAAAAAAAAALAP//AAAAAAAAAAAMAP//AAAAAAAAAAANAP//AAAAAAAAAAAOAP//AAAAAAAAAAAPAP//AAAAAAAAAAAQAP//AAAAAAAAAAARAP//AAAAAAAAAAASAP//AAAAAAAAAAATAP//AAAAAAAAAAAUAP//AAAAAAAAAAAUAA8AAAAAAAAAAAATAA8AAAAAAAAAAAASAA8AAAAAAAAAAAARAA8AAAAAAAAAAAAQAA8AAAAAAAAAAAAPAA8AAAAAAAAAAAAOAA8AAAAAAAAAAAANAA8AAAAAAAAAAAAMAA8AAAAAAAAAAAALAA8AAAAAAAAAAAAKAA8AAAAAAAAAAAAJAA8AAAAAAAAAAAAIAA8AAAAAAAAAAAAHAA8AAAAAAAAAAAAGAA8AAAAAAAAAAAAFAA8AAAAAAAAAAAAEAA8AAAAAAAAAAAADAA8AAAAAAAAAAAACAA8AAAAAAAAAAAABAA8AAAAAAAAAAAAAAA8AAAAAAAAAAAD//w4AAAAAAAAAAAD//w0AAAAAAAAAAAD//wwAAAAAAAAAAAD//wsAAAAAAAAAAAD//woAAAAAAAAAAAD//wkAAAAAAAAAAAD//wgAAAAAAAAAAAD//wcAAAAAAAAAAAD//wYAAAAAAAAAAAD//wUAAAAAAAAAAAD//wQAAAAAAAAAAAD//wMAAAAAAAAAAAD//wIAAAAAAAAAAAD//wEAAAAAAAAAAAD//wAAAAAAAAAAAAD//w8AAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAEAAAAAAAAAAAAUAAIAAAAAAAAAAAAUAAMAAAAAAAAAAAAUAAQAAAAAAAAAAAAUAAUAAAAAAAAAAAAUAAYAAAAAAAAAAAAUAAcAAAAAAAAAAAAUAAgAAAAAAAAAAAAUAAkAAAAAAAAAAAAUAAoAAAAAAAAAAAAUAAsAAAAAAAAAAAAUAAwAAAAAAAAAAAAUAA0AAAAAAAAAAAAUAA4AAAAAAAAAAAA=")
tile_set = ExtResource("10_jb4cg")
collision_enabled = false
navigation_enabled = false

[node name="PawnCollisionManager" type="TileMapLayer" parent="."]
tile_set = ExtResource("10_jb4cg")
collision_enabled = false
navigation_enabled = false

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("target")]
limit_left = 0
limit_top = 0
limit_right = 2452
limit_bottom = 2435
script = ExtResource("11_6hr6o")
target = NodePath("../PawnManager/Player")
lerp_self = true
