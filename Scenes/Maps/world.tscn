[gd_scene load_steps=12 format=4 uid="uid://desp8rgxud3dy"]

[ext_resource type="Script" path="res://pawn_manager.gd" id="1_1b3yd"]
[ext_resource type="PackedScene" uid="uid://ckrd5k14iae5r" path="res://Scenes/Pawns/Variants/Player/player.tscn" id="1_ep713"]
[ext_resource type="TileSet" uid="uid://otamr5lhwu4o" path="res://tileset.tres" id="1_us7go"]
[ext_resource type="PackedScene" uid="uid://ckjb27vmdsyhq" path="res://Scenes/Pawns/Variants/Event/event.tscn" id="3_qt5fr"]
[ext_resource type="Texture2D" uid="uid://0p6frvlecfch" path="res://obstacle.png" id="4_fetqe"]
[ext_resource type="Texture2D" uid="uid://ct6k0feqggovn" path="res://tile.png" id="4_m68ou"]
[ext_resource type="Script" path="res://addons/game_state_saver/game_state_helper.gd" id="5_jjle6"]
[ext_resource type="Texture2D" uid="uid://clolt0da1hneb" path="res://actor.png" id="7_sgbqq"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_6yop6"]
texture = ExtResource("4_fetqe")
0:0/0 = 0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_6x43g"]
texture = ExtResource("7_sgbqq")
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_qg4aa"]
sources/0 = SubResource("TileSetAtlasSource_6yop6")
sources/1 = SubResource("TileSetAtlasSource_6x43g")

[node name="World" type="Node2D"]

[node name="PawnManager" type="Node2D" parent="." node_paths=PackedStringArray("coll_manager", "pawn_coll_manager")]
z_index = 1
y_sort_enabled = true
script = ExtResource("1_1b3yd")
coll_manager = NodePath("../CollisionManager")
pawn_coll_manager = NodePath("../PawnCollisionManager")

[node name="Player" parent="PawnManager" instance=ExtResource("1_ep713")]
position = Vector2(136, 120)

[node name="Event" parent="PawnManager" instance=ExtResource("3_qt5fr")]
position = Vector2(88, 104)
move_route = Array[Vector2i]([Vector2i(1, 0), Vector2i(0, 1), Vector2i(-1, 0), Vector2i(0, -1)])
collidable = true
speed = 1.0

[node name="Sprite2D" type="Sprite2D" parent="PawnManager/Event"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_m68ou")

[node name="GameStateHelper" type="Node" parent="PawnManager/Event"]
script = ExtResource("5_jjle6")
save_properties = Array[String](["position", "coll_pos", "cur_direction", "dir", "current_move"])

[node name="Event2" parent="PawnManager" instance=ExtResource("3_qt5fr")]
position = Vector2(168, 136)
move_route = Array[Vector2i]([Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(-1, 0), Vector2i(0, -1), Vector2i(0, -1), Vector2i(0, -1), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(1, 0), Vector2i(0, 1), Vector2i(0, 1), Vector2i(0, 1)])
collidable = true

[node name="Sprite2D" type="Sprite2D" parent="PawnManager/Event2"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("4_m68ou")

[node name="GameStateHelper" type="Node" parent="PawnManager/Event2"]
script = ExtResource("5_jjle6")
save_properties = Array[String](["position", "coll_pos", "cur_direction", "dir", "current_move"])

[node name="Tilemaps" type="Node2D" parent="."]

[node name="TileMapLayer" type="TileMapLayer" parent="Tilemaps"]
tile_map_data = PackedByteArray("AAAAAAAAAQAGAAQAAAAAAAEAAQAGAAQAAAAAAAIAAQAGAAQAAAABAAAAAQAGAAQAAAABAAEAAQAGAAQAAAABAAIAAQAGAAQAAAACAAAAAQAGAAQAAAACAAEAAQAGAAQAAAACAAIAAQAGAAQAAAAAAAMAAQAGAAQAAAAAAAQAAQAGAAQAAAAAAAUAAQAGAAQAAAABAAMAAQAGAAQAAAABAAQAAQAGAAQAAAABAAUAAQAGAAQAAAACAAMAAQAGAAQAAAACAAQAAQAGAAQAAAACAAUAAQAGAAQAAAAAAAYAAQAGAAQAAAAAAAcAAQAGAAQAAAAAAAgAAQAGAAQAAAABAAYAAQAGAAQAAAABAAcAAQAGAAQAAAABAAgAAQAGAAQAAAACAAYAAQAGAAQAAAACAAcAAQAGAAQAAAACAAgAAQAGAAQAAAAAAAkAAQAGAAQAAAAAAAoAAQAGAAQAAAAAAAsAAQAGAAQAAAABAAkAAQAGAAQAAAABAAoAAQAGAAQAAAABAAsAAQAGAAQAAAACAAkAAQAGAAQAAAACAAoAAQAGAAQAAAACAAsAAQAGAAQAAAAAAAwAAQAGAAQAAAAAAA0AAQAGAAQAAAAAAA4AAQAGAAQAAAABAAwAAQAGAAQAAAABAA0AAQAGAAQAAAABAA4AAQAGAAQAAAACAAwAAQAGAAQAAAACAA0AAQAGAAQAAAACAA4AAQAGAAQAAAADAAAAAQAGAAQAAAADAAEAAQAGAAQAAAADAAIAAQAGAAQAAAAEAAAAAQAGAAQAAAAEAAEAAQAGAAQAAAAEAAIAAQAGAAQAAAAFAAAAAQAGAAQAAAAFAAEAAQAGAAQAAAAFAAIAAQAGAAQAAAADAAMAAQAGAAQAAAADAAQAAQAGAAQAAAADAAUAAQAGAAQAAAAEAAMAAQAGAAQAAAAEAAQAAQAGAAQAAAAEAAUAAQAGAAQAAAAFAAMAAQAGAAQAAAAFAAQAAQAGAAQAAAAFAAUAAQAGAAQAAAADAAYAAQAGAAQAAAADAAcAAQAGAAQAAAAEAAYAAQAGAAQAAAAFAAYAAQAGAAQAAAAFAAcAAQAGAAQAAAAFAAgAAQAGAAQAAAADAAoAAQAGAAQAAAAEAAkAAQAGAAQAAAAEAAoAAQAGAAQAAAAEAAsAAQAGAAQAAAAFAAkAAQAGAAQAAAAFAAoAAQAGAAQAAAAFAAsAAQAGAAQAAAADAAwAAQAGAAQAAAADAA0AAQAGAAQAAAADAA4AAQAGAAQAAAAEAAwAAQAGAAQAAAAEAA0AAQAGAAQAAAAEAA4AAQAGAAQAAAAFAAwAAQAGAAQAAAAFAA0AAQAGAAQAAAAFAA4AAQAGAAQAAAAGAAAAAQAGAAQAAAAGAAEAAQAGAAQAAAAGAAIAAQAGAAQAAAAHAAAAAQAGAAQAAAAHAAEAAQAGAAQAAAAHAAIAAQAGAAQAAAAIAAAAAQAGAAQAAAAIAAEAAQAGAAQAAAAIAAIAAQAGAAQAAAAGAAMAAQAGAAQAAAAGAAQAAQAGAAQAAAAGAAUAAQAGAAQAAAAHAAMAAQAGAAQAAAAHAAQAAQAGAAQAAAAHAAUAAQAGAAQAAAAIAAMAAQAGAAQAAAAIAAQAAQAGAAQAAAAIAAUAAQAGAAQAAAAGAAYAAQAGAAQAAAAGAAcAAQAGAAQAAAAGAAgAAQAGAAQAAAAHAAYAAQAGAAQAAAAHAAcAAQAGAAQAAAAHAAgAAQAGAAQAAAAIAAYAAQAGAAQAAAAIAAcAAQAGAAQAAAAIAAgAAQAGAAQAAAAGAAkAAQAGAAQAAAAGAAoAAQAGAAQAAAAGAAsAAQAGAAQAAAAHAAkAAQAGAAQAAAAHAAoAAQAGAAQAAAAHAAsAAQAGAAQAAAAIAAkAAQAGAAQAAAAIAAoAAQAGAAQAAAAIAAsAAQAGAAQAAAAGAAwAAQAGAAQAAAAGAA0AAQAGAAQAAAAGAA4AAQAGAAQAAAAHAAwAAQAGAAQAAAAHAA0AAQAGAAQAAAAHAA4AAQAGAAQAAAAIAAwAAQAGAAQAAAAIAA0AAQAGAAQAAAAIAA4AAQAGAAQAAAAJAAAAAQAGAAQAAAAJAAEAAQAGAAQAAAAJAAIAAQAGAAQAAAAKAAAAAQAGAAQAAAAKAAEAAQAGAAQAAAAKAAIAAQAGAAQAAAALAAAAAQAGAAQAAAALAAEAAQAGAAQAAAALAAIAAQAGAAQAAAAJAAMAAQAGAAQAAAAJAAQAAQAGAAQAAAAJAAUAAQAGAAQAAAAKAAMAAQAGAAQAAAAKAAQAAQAGAAQAAAAKAAUAAQAGAAQAAAALAAMAAQAGAAQAAAALAAQAAQAGAAQAAAALAAUAAQAGAAQAAAAJAAYAAQAGAAQAAAAJAAcAAQAGAAQAAAAJAAgAAQAGAAQAAAAKAAYAAQAGAAQAAAAKAAcAAQAGAAQAAAAKAAgAAQAGAAQAAAALAAYAAQAGAAQAAAALAAcAAQAGAAQAAAALAAgAAQAGAAQAAAAJAAkAAQAGAAQAAAAJAAoAAQAGAAQAAAAJAAsAAQAGAAQAAAAKAAkAAQAGAAQAAAAKAAoAAQAGAAQAAAAKAAsAAQAGAAQAAAALAAkAAQAGAAQAAAALAAoAAQAGAAQAAAALAAsAAQAGAAQAAAAJAAwAAQAGAAQAAAAJAA0AAQAGAAQAAAAJAA4AAQAGAAQAAAAKAAwAAQAGAAQAAAAKAA0AAQAGAAQAAAAKAA4AAQAGAAQAAAALAAwAAQAGAAQAAAALAA0AAQAGAAQAAAALAA4AAQAGAAQAAAAMAAAAAQAGAAQAAAAMAAEAAQAGAAQAAAAMAAIAAQAGAAQAAAANAAAAAQAGAAQAAAANAAEAAQAGAAQAAAANAAIAAQAGAAQAAAAOAAAAAQAGAAQAAAAOAAEAAQAGAAQAAAAOAAIAAQAGAAQAAAAMAAMAAQAGAAQAAAAMAAQAAQAGAAQAAAAMAAUAAQAGAAQAAAANAAMAAQAGAAQAAAANAAQAAQAGAAQAAAANAAUAAQAGAAQAAAAOAAMAAQAGAAQAAAAOAAQAAQAGAAQAAAAOAAUAAQAGAAQAAAAMAAYAAQAGAAQAAAAMAAcAAQAGAAQAAAAMAAgAAQAGAAQAAAANAAYAAQAGAAQAAAANAAcAAQAGAAQAAAANAAgAAQAGAAQAAAAOAAYAAQAGAAQAAAAOAAcAAQAGAAQAAAAOAAgAAQAGAAQAAAAMAAkAAQAGAAQAAAAMAAoAAQAGAAQAAAAMAAsAAQAGAAQAAAANAAkAAQAGAAQAAAANAAoAAQAGAAQAAAANAAsAAQAGAAQAAAAOAAkAAQAGAAQAAAAOAAoAAQAGAAQAAAAOAAsAAQAGAAQAAAAMAAwAAQAGAAQAAAAMAA0AAQAGAAQAAAAMAA4AAQAGAAQAAAANAAwAAQAGAAQAAAANAA0AAQAGAAQAAAANAA4AAQAGAAQAAAAOAAwAAQAGAAQAAAAOAA0AAQAGAAQAAAAOAA4AAQAGAAQAAAAPAAAAAQAGAAQAAAAPAAEAAQAGAAQAAAAPAAIAAQAGAAQAAAAQAAAAAQAGAAQAAAAQAAEAAQAGAAQAAAAQAAIAAQAGAAQAAAARAAAAAQAGAAQAAAARAAEAAQAGAAQAAAARAAIAAQAGAAQAAAAPAAMAAQAGAAQAAAAPAAQAAQAGAAQAAAAPAAUAAQAGAAQAAAAQAAMAAQAGAAQAAAAQAAQAAQAGAAQAAAAQAAUAAQAGAAQAAAARAAMAAQAGAAQAAAARAAQAAQAGAAQAAAARAAUAAQAGAAQAAAAPAAYAAQAGAAQAAAAPAAcAAQAGAAQAAAAPAAgAAQAGAAQAAAAQAAYAAQAGAAQAAAAQAAcAAQAGAAQAAAAQAAgAAQAGAAQAAAARAAYAAQAGAAQAAAARAAcAAQAGAAQAAAARAAgAAQAGAAQAAAAPAAkAAQAGAAQAAAAPAAoAAQAGAAQAAAAPAAsAAQAGAAQAAAAQAAkAAQAGAAQAAAAQAAoAAQAGAAQAAAAQAAsAAQAGAAQAAAARAAkAAQAGAAQAAAARAAoAAQAGAAQAAAARAAsAAQAGAAQAAAAPAAwAAQAGAAQAAAAPAA0AAQAGAAQAAAAPAA4AAQAGAAQAAAAQAAwAAQAGAAQAAAAQAA0AAQAGAAQAAAAQAA4AAQAGAAQAAAARAAwAAQAGAAQAAAARAA0AAQAGAAQAAAARAA4AAQAGAAQAAAASAAAAAQAGAAQAAAASAAEAAQAGAAQAAAASAAIAAQAGAAQAAAATAAAAAQAGAAQAAAATAAEAAQAGAAQAAAATAAIAAQAGAAQAAAASAAMAAQAGAAQAAAASAAQAAQAGAAQAAAASAAUAAQAGAAQAAAATAAMAAQAGAAQAAAATAAQAAQAGAAQAAAATAAUAAQAGAAQAAAASAAYAAQAGAAQAAAASAAcAAQAGAAQAAAASAAgAAQAGAAQAAAATAAYAAQAGAAQAAAATAAcAAQAGAAQAAAATAAgAAQAGAAQAAAASAAkAAQAGAAQAAAASAAoAAQAGAAQAAAASAAsAAQAGAAQAAAATAAkAAQAGAAQAAAATAAoAAQAGAAQAAAATAAsAAQAGAAQAAAASAAwAAQAGAAQAAAASAA0AAQAGAAQAAAASAA4AAQAGAAQAAAATAAwAAQAGAAQAAAATAA0AAQAGAAQAAAATAA4AAQAGAAQAAAADAAsAAQAGAAQAAAADAAkAAQAGAAQAAAADAAgAAQAGAAQAAAAEAAgAAQAGAAQAAAAEAAcAAQAGAAQAAAA=")
tile_set = ExtResource("1_us7go")
collision_enabled = false
navigation_enabled = false

[node name="TileMapLayer2" type="TileMapLayer" parent="Tilemaps"]
tile_map_data = PackedByteArray("AAAGAAQAAQAVAAkAAAAFAAQAAQAVAAkAAAAEAAQAAQAVAAkAAAADAAQAAQAVAAkAAAADAAUAAQAVAAkAAAADAAYAAQAVAAkAAAADAAcAAQAVAAkAAAALAAUAAQAVAAkAAAALAAYAAQAVAAkAAAALAAcAAQAVAAkAAAALAAgAAQAVAAkAAAALAAkAAQAVAAkAAAAKAAkAAQAVAAkAAAAJAAkAAQAVAAkAAAAIAAkAAQAVAAkAAAAHAAkAAQAVAAkAAAA=")
tile_set = ExtResource("1_us7go")
collision_enabled = false
navigation_enabled = false

[node name="TileMapLayer3" type="TileMapLayer" parent="Tilemaps"]
z_index = 1
tile_map_data = PackedByteArray("AAADAAQAAQAVAAgAAAADAAUAAQAVAAgAAAADAAYAAQAVAAgAAAALAAUAAQAVAAgAAAALAAYAAQAVAAgAAAALAAcAAQAVAAgAAAALAAgAAQAVAAgAAAADAAMAAQAVAAgAAAAEAAMAAQAVAAgAAAAFAAMAAQAVAAgAAAAGAAMAAQAVAAgAAAAHAAgAAQAVAAgAAAAIAAgAAQAVAAgAAAAJAAgAAQAVAAgAAAAKAAgAAQAVAAgAAAALAAQAAQAVAAgAAAA=")
tile_set = ExtResource("1_us7go")
collision_enabled = false
navigation_enabled = false

[node name="CollisionManager" type="TileMapLayer" parent="."]
visible = false
tile_set = SubResource("TileSet_qg4aa")
collision_enabled = false
navigation_enabled = false

[node name="PawnCollisionManager" type="TileMapLayer" parent="."]
tile_set = SubResource("TileSet_qg4aa")
collision_enabled = false
navigation_enabled = false
